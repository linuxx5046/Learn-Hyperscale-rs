graph TD
    START["‚è±Ô∏è Timeout de Round  
L√≠der N√£o Prop√µe"] --> DETECT["üö® Detecta Falha  
Aguardou X segundos"]
    
    DETECT --> UNLOCK["üîì Unlock Vote  
Remove Vote Lock"]
    
    UNLOCK --> INCREASE_VIEW["üìà Incrementa View  
View += 1  
Round += 1"]
    
    INCREASE_VIEW --> NEW_LEADER["üëë Novo L√≠der  
Leader = Validator[Round % N]"]
    
    NEW_LEADER --> LEADER_CHECK{"Novo L√≠der  
√© Honesto?"}
    
    LEADER_CHECK -->|N√£o| TIMEOUT_AGAIN["‚è±Ô∏è Timeout Novamente  
Repete View Change"]
    TIMEOUT_AGAIN --> INCREASE_VIEW
    
    LEADER_CHECK -->|Sim| PROPOSE_NEW["üìù Novo L√≠der Prop√µe  
Bloco com HighQC"]
    
    PROPOSE_NEW --> SYNC["üîÑ Sincroniza√ß√£o  
N√≥s Recebem Proposta"]
    
    SYNC --> VALIDATE["‚úÖ Valida Bloco  
- Parent QC V√°lido  
- Assinatura OK"]
    
    VALIDATE -->|Inv√°lido| REJECT["‚ùå Rejeita  
Novo Timeout"]
    REJECT --> INCREASE_VIEW
    
    VALIDATE -->|V√°lido| VOTE_NEW["üó≥Ô∏è Vota no Novo Bloco"]
    
    VOTE_NEW --> COLLECT["üìä Coleta Votos  
2f+1 Necess√°rios"]
    
    COLLECT --> QC_NEW["üéñÔ∏è QC Criado  
Sistema Recuperado"]
    
    QC_NEW --> PROGRESS["‚úÖ Sistema Progride  
Consenso Restaurado"]
    
    PROGRESS --> END["üèÅ Volta ao Normal"]
    
    style START fill:#ff6b6b,stroke:#c92a2a,color:#fff
    style DETECT fill:#ffd43b,stroke:#f59f00,color:#000
    style UNLOCK fill:#4c6ef5,stroke:#1971c2,color:#fff
    style NEW_LEADER fill:#51cf66,stroke:#2f9e44,color:#fff
    style QC_NEW fill:#da77f2,stroke:#9c36b5,color:#fff
    style PROGRESS fill:#9c36b5,stroke:#6c2a8f,color:#fff