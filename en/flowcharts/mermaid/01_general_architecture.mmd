graph TB
    subgraph "Network Layer"
        NET["ğŸŒ P2P Network"]
    end
    
    subgraph "Node Layer"
        NODE["ğŸ–¥ï¸ NodeStateMachine"]
    end
    
    subgraph "Main Components"
        BFT["âš™ï¸ BFT State Machine<br/>HotStuff-2 Consensus"]
        EXEC["âš¡ Execution Engine<br/>Transaction Execution"]
        MEMPOOL["ğŸ“¦ Mempool<br/>Transaction Pool"]
        PROV["ğŸ”„ Provisioning<br/>Block Preparation"]
        LIVELOCK["ğŸ” Livelock Prevention<br/>Cycle Detection"]
    end
    
    subgraph "Data Layer"
        TYPES["ğŸ“‹ Types & Structures<br/>Hash, Block, Vote, QC"]
        CRYPTO["ğŸ” Cryptography<br/>BLS12-381, Blake3, Ed25519"]
        STORAGE["ğŸ’¾ Storage<br/>State Root, Ledger"]
    end
    
    subgraph "Production Layer"
        PROD["ğŸ­ Production Runtime<br/>Thread Pool Specialization"]
    end
    
    NET -->|Events| NODE
    NODE -->|Coordinates| BFT
    NODE -->|Coordinates| EXEC
    NODE -->|Coordinates| MEMPOOL
    NODE -->|Coordinates| PROV
    NODE -->|Coordinates| LIVELOCK
    
    BFT -->|Uses| TYPES
    EXEC -->|Uses| TYPES
    MEMPOOL -->|Uses| TYPES
    
    TYPES -->|Validates| CRYPTO
    CRYPTO -->|Protects| STORAGE
    
    PROD -->|Executes| NODE
    
    style NODE fill:#ff6b6b,stroke:#c92a2a,color:#fff
    style BFT fill:#4c6ef5,stroke:#1971c2,color:#fff
    style EXEC fill:#51cf66,stroke:#2f9e44,color:#fff
    style MEMPOOL fill:#ffd43b,stroke:#f59f00,color:#000
    style PROD fill:#da77f2,stroke:#9c36b5,color:#fff
